@charset "UTF-8";

:root {
    /* Layout & spacing */
    --yai-content-padding: 20px;
    --yai-content-line-height: 1.5;
    --yai-content-min-height: 80px;
    --yai-button-padding: 2px 20px;
    --yai-button-min-height: 42px;

    /* Closed state */
    --yai-closed-text: "YaiTabs";
    --yai-closed-align: center;
    --yai-closed-timeout: .5s;

    /* Loader */
    --yai-loader-speed: 1.1s;
    --yai-loader-button-size: 12px;
    --yai-loader-content-size: 32px;

    /* Shadow positioning (active buttons */
    --yai-shadow-top: 0 2px 5px 1px;
    --yai-shadow-bottom: 0 -2px 5px 1px;
    --yai-shadow-left: 0 0 6px 2px;
    --yai-shadow-right: 0 0 6px 2px;
}

/* Base component styles */
[data-yai-tabs] {
    position: relative;
}

[data-yai-tabs] [data-content] {
    position: relative;
    min-height: var(--yai-content-min-height);
    will-change: transform, opacity;
}

[data-yai-tabs] [data-tab] {
    display: block;
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
}

[data-yai-tabs] [data-tab].active {
    min-height: 100%;
    position: relative;
    visibility: visible;
    opacity: 1;
    pointer-events: all;
}

/* Navigation controller */
[data-yai-tabs] nav[data-controller] {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    position: relative;
    z-index: 2;
    gap: 0;
    transition: background 0.3s ease-in-out;
}

[data-yai-tabs] nav[data-controller] button {
    margin: 0;
    padding: var(--yai-button-padding);
    min-height: var(--yai-button-min-height);
    display: flex;
    align-items: center;
    border: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    font-weight: 600;
    text-transform: inherit;
    line-height: 1.4;
    transition: all 0.15s ease;
    font-size: 93%;
}

[data-yai-tabs] nav[data-controller] button:focus {
    outline: 0;
}

[data-yai-tabs] nav[data-controller] button:focus-visible {
    z-index: 5;
    position: relative;
    outline-offset: 0px;
}

[data-yai-tabs] nav[data-controller] button.active,
[data-yai-tabs] nav[data-controller] button:focus {
    position: relative;
    z-index: 3;
}

/* Navigation alignment */
[data-yai-tabs] nav[data-controller][data-align="start"],
[data-yai-tabs] nav[data-controller][data-align="left"] {
    justify-content: start;
}

[data-yai-tabs] nav[data-controller][data-align="center"] {
    justify-content: center;
}

[data-yai-tabs] nav[data-controller][data-align="end"],
[data-yai-tabs] nav[data-controller][data-align="right"] {
    justify-content: end;
}

[data-yai-tabs] nav[data-controller][data-grow]>button {
    flex-grow: 1;
    justify-content: center;
}
[data-yai-tabs][data-nav="left"]>nav[data-controller][data-grow] button,
[data-yai-tabs][data-nav="right"]>nav[data-controller][data-grow] button {
    flex-grow: unset;
}

/* Navigation positions */
[data-yai-tabs][data-nav="top"],
[data-yai-tabs][data-nav="bottom"],
[data-yai-tabs][data-nav="left"],
[data-yai-tabs][data-nav="right"] {
    display: flex;
}

[data-yai-tabs][data-nav="top"] {
    flex-direction: column;
}

[data-yai-tabs][data-nav="bottom"] {
    flex-direction: column-reverse;
}

[data-yai-tabs][data-nav="left"],
[data-yai-tabs][data-nav="right"] {
    flex-wrap: wrap;
}

[data-yai-tabs][data-nav="left"]>nav[data-controller],
[data-yai-tabs][data-nav="right"]>nav[data-controller] {
    flex: 1 15%;
    flex-direction: column;
    border: 0 none;
}

[data-yai-tabs][data-nav="left"]>nav[data-controller] button,
[data-yai-tabs][data-nav="right"]>nav[data-controller] button {
    text-align: left;
    padding: 4px 8px;
}

[data-yai-tabs][data-nav="left"]>nav[data-controller] button.active,
[data-yai-tabs][data-nav="right"]>nav[data-controller] button.active {
    transform: scale(1.03);
}

[data-yai-tabs][data-nav="left"] [data-content],
[data-yai-tabs][data-nav="right"] [data-content] {
    flex: 1 80%;
}

[data-yai-tabs][data-nav="left"] {
    flex-direction: row;
}

[data-yai-tabs][data-nav="right"] {
    flex-direction: row-reverse;
}

/* Content styling */
[data-yai-tabs] [data-tab] h2,
[data-yai-tabs] [data-tab] h3,
[data-yai-tabs] [data-tab] h4,
[data-yai-tabs] [data-tab] h5,
[data-yai-tabs] [data-tab] p,
[data-yai-tabs] [data-tab] ul {
    margin-bottom: 15px;
    line-height: var(--yai-content-line-height);
}

[data-yai-tabs] [data-tab] li {
    line-height: 1.6;
}

[data-yai-tabs] [data-tab] .mb-0 {
    margin-bottom: 0;
}

[data-yai-tabs] [data-spaceless] {
    padding: 0;
}

[data-yai-tabs] [data-tab]:not([data-spaceless]) {
    padding: var(--yai-content-padding);
}

/* Text transforms */
[data-yai-tabs] .text-nowrap {
    white-space: nowrap;
}

[data-yai-tabs] [data-uppercase] {
    text-transform: uppercase;
}

[data-yai-tabs] [data-lowercase] {
    text-transform: lowercase;
}

/* Closed state placeholder */
[data-yai-tabs]:not(.tab-active) [data-content] {
    min-height: var(--yai-content-min-height);
}

[data-yai-tabs]:not(.tab-active) [data-content]:before {
    content: var(--yai-closed-text);
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 0;
    display: flex;
    align-items: var(--yai-closed-align);
    justify-content: center;
    font-size: 14px;
    animation: yai-placeholder-in var(--yai-closed-timeout) ease-in;
}

/* Error states */
[data-yai-tabs] [data-tab][id].error-occured {
    margin: 0;
    opacity: 1;
    visibility: visible;
    filter: none;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}

[data-yai-tabs] [data-tab][id].error-occured .alert {
    height: 99%;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Loading states */
.yai-loading {
    --yai-closed-align: end;
    display: inline-block;
    position: relative;
    opacity: 0.9;
    pointer-events: none;
}

.yai-loading::after {
    content: "";
    position: absolute;
    border-radius: 50%;
    animation: yai-spin var(--yai-loader-speed) linear infinite;
    background: conic-gradient(transparent, var(--yai-loader-color));
    mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #022031 0);
}

button.yai-loading::after {
    top: 50%;
    right: 4px;
    width: var(--yai-loader-button-size);
    height: var(--yai-loader-button-size);
    margin-top: calc(var(--yai-loader-button-size) / -2);
}

div[data-content].yai-loading::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    z-index: 998;
    opacity: 0.8;
    background-color: #f1e8e888;
}

div[data-content].yai-loading::after {
    top: 50%;
    right: 50%;
    width: var(--yai-loader-content-size);
    height: var(--yai-loader-content-size);
    margin: calc(var(--yai-loader-content-size) / -2) calc(var(--yai-loader-content-size) / -2) 0 0;
}

/*
 * Behavior animations (unchanged - these are fine)
 */

[data-behavior="instant"] [data-tab] {
    transition: none;
}

[data-behavior="fade"] [data-tab] {
    transition: opacity 0.2s ease-out, visibility 0s linear 0.5s;
}
[data-behavior="fade"] [data-tab].active {
    transition: opacity 0.3s ease-in-out, visibility 0s linear;
}

[data-behavior="slide-down"] [data-tab] {
    transform: translateY(-25px);
}
[data-behavior="slide-up"] [data-tab] {
    transform: translateY(25px);
}

[data-behavior="slide-left"] [data-tab] {
    transform: translateX(25px);
}
[data-behavior="slide-right"] [data-tab] {
    transform: translateX(-25px);
}

[data-behavior="slide-up"] [data-content],
[data-behavior="slide-down"] [data-content],
[data-behavior="slide-left"] [data-content],
[data-behavior="slide-right"] [data-content] {
    overflow: hidden;
}
[data-behavior="slide-up"] [data-tab],
[data-behavior="slide-down"] [data-tab],
[data-behavior="slide-left"] [data-tab],
[data-behavior="slide-right"] [data-tab] {
    transition: transform 0.3s ease-in-out, opacity 0.4s ease-out, visibility 0s linear 0.4s;
}
[data-behavior="slide-up"] [data-tab].active,
[data-behavior="slide-down"] [data-tab].active,
[data-behavior="slide-left"] [data-tab].active,
[data-behavior="slide-right"] [data-tab].active {
    transform: translate(0);
    transition: transform 0.2s ease-in-out, opacity 0.3s ease-in, visibility 0s linear;
}

[data-behavior="blur"] [data-tab] {
    filter: blur(5px);
    transition: filter .25s ease-out, opacity 0.3s ease-out, visibility 0s linear 0.6s;
}
[data-behavior="blur"] [data-tab].active {
    filter: blur(0);
    transition: filter 0.25s ease-in, opacity 0.05s ease-in, visibility 0s linear;
}

[data-behavior="zoom"] [data-tab] {
    transform: scale(0.9);
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-out, visibility 30s linear 0.6s;
}
[data-behavior="zoom"] [data-tab].active {
    transform: scale(1);
    transition: transform 0.25s cubic-bezier(0.3, 0, 0.6, 1), opacity 0.2s ease-in, visibility 0s linear;
}

[data-behavior="flip"] [data-tab] {
    transform: rotateY(-90deg);
    transform-origin: left center;
    transition: transform 0.4s ease-in-out, opacity 0.2s ease-in-out, visibility 0s linear 0.4s;
}
[data-behavior="flip"] [data-tab].active {
    transform: rotateY(0deg);
    transition: transform 0.5s cubic-bezier(0.4, 1.8, 0.2, 1), opacity 0.2s ease-in-out, visibility 0s linear;
}

@keyframes yai-spin { to { transform: rotate(360deg); } }

@keyframes yai-placeholder-in {
    0%,35% { opacity: 0; }
    25%    { top: -30px; left: 20px; }
    75%    { top: 0; left: 0; opacity: 0.5; }
    100%   { opacity: 1; }
}

/*
 * Default styles
 */

:root {
    /* Core color palette */
    --yai-primary: #127cdc;
    --yai-primary-dark: #0a0a56;
    --yai-secondary: #383896;
    --yai-accent: #e3260d;
    --yai-danger: #e3260d;

    /* Semantic colors */
    --yai-text: #302c41;
    --yai-text-muted: #6b6969;

    --yai-bg: #ffffff;
    --yai-bg-surface: #f8f8f8;
    --yai-bg-surface-alt: #f5f5f5;
    --yai-bg-overlay: #efefefd7;

    --yai-focus: #2563eb;
    --yai-focus-dark: #1e40af;

    --yai-shadow: #32323266;
    --yai-shadow-accent: #801a2199;

    --yai-tabs-nav-bg: var(--yai-bg);
    --yai-tabs-content-bg: var(--yai-bg-overlay);
    --yai-tabs-active-bg: var(--yai-bg);
    --yai-loader-color: var(--yai-secondary);
}

/* Default theme - structural + colors */
[data-theme="default"],
[data-theme="default"] [data-yai-tabs] {
    background-color: var(--yai-bg);
    box-shadow: 0 0 4px 1px var(--yai-shadow);
}

[data-theme="default"] nav[data-controller] {
    background-color: var(--yai-tabs-nav-bg);
    box-shadow: 0 0 3px 0 var(--yai-shadow);
}

[data-theme="default"] nav[data-controller] button {
    color: var(--yai-text-muted);
    background-color: var(--yai-bg);
}

[data-theme="default"] nav[data-controller] button.active {
    color: var(--yai-accent);
    background-color: var(--yai-tabs-active-bg);
}

[data-theme="default"] nav[data-controller] button:focus-visible {
    outline: 2px solid var(--yai-focus);
    outline-offset: 2px;
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--yai-focus) 12%, transparent);
}

[data-theme="default"] nav[data-controller] button.active:focus-visible {
    outline: 2px solid var(--yai-focus-dark);
    outline-offset: -1px;
    box-shadow: 0 2px 5px 1px var(--yai-shadow-accent), 0 0 1px 3px color-mix(in srgb, var(--yai-focus-dark) 35%, transparent);
}

[data-theme="default"].tab-active>[data-content]>[data-tab],
[data-theme="default"] .tab-active>[data-content]>[data-tab] {
    color: var(--yai-text);
    background-color: var(--yai-bg);
}

[data-theme="default"]:not(.tab-active)>[data-content],
[data-theme="default"] div:not(.tab-active)>[data-content] {
    color: var(--yai-text-muted);
    background-color: var(--yai-tabs-content-bg);
}

/* Navigation-specific active states */
[data-theme="default"][data-nav="top"] nav[data-controller] button.active,
[data-theme="default"] [data-nav="top"]>nav[data-controller]>button.active {
    box-shadow: var(--yai-shadow-top) var(--yai-shadow-accent);
}

[data-theme="default"][data-nav="bottom"] nav[data-controller] button.active,
[data-theme="default"] [data-nav="bottom"]>nav[data-controller]>button.active {
    box-shadow: var(--yai-shadow-bottom) var(--yai-shadow-accent);
}

[data-theme="default"][data-nav="left"] nav[data-controller] button.active,
[data-theme="default"] [data-nav="left"]>nav[data-controller]>button.active {
    box-shadow: var(--yai-shadow-left) var(--yai-shadow-accent);
}

[data-theme="default"][data-nav="right"] nav[data-controller] button.active,
[data-theme="default"] [data-nav="right"]>nav[data-controller]>button.active {
    box-shadow: var(--yai-shadow-right) var(--yai-shadow-accent);
}

/* Focus states */
[data-theme="default"]:focus-within nav[data-controller] {
    background: var(--yai-bg-surface-alt);
}

[data-theme="default"]:not(.tab-active):focus-within nav[data-controller] {
    background: var(--yai-bg);
}

/* Fallback/error states */
[data-theme="default"] nav[data-controller] button {
    color: color-mix(in srgb, var(--yai-primary-dark) 70%, transparent);
    background-color: var(--yai-bg-surface);
}

[data-theme="default"] [data-tab][id].error-occured {
    color: color-mix(in srgb, var(--yai-danger) 87%, transparent);
}

/**
 * Override specific fallback rules (for noscript and manual toggle content in)
 */

.yai-fallback-mode [data-yai-tabs][data-behavior] [data-tab] {
    filter: none;
}
.yai-fallback-mode [data-yai-tabs][data-nav] nav[data-controller] {
    flex: 0 0;
}
.yai-fallback-mode [data-yai-tabs][data-nav] nav[data-controller] [data-open] {
    display: none;
}
.yai-fallback-mode [data-yai-tabs] [data-tab].active {
    min-height: auto;
}
.yai-fallback-mode [data-yai-tabs][data-behavior] [data-tab] {
    display: block;
    position: static;
    top: 0;
    width: 100%;
    height: auto;
    overflow: visible;
    visibility: visible;
    opacity: 1;
    pointer-events: all;
    background: var(--yai-bg);
}
.yai-fallback-mode [data-yai-tabs]:not(.tab-active) [data-content]:before,
.yai-fallback-mode [data-yai-tabs] [data-content]:before {
    content: '';
    display: none;
    right: unset;
    bottom: unset;
    z-index: -1;
}

/**
 * Color schemes
 */

[data-color-scheme="red"] {
    --yai-accent: #e3260d;
    --yai-danger: #e3260d;
    --yai-shadow-accent: #801a1a99;
}

[data-color-scheme="blue"] {
    --yai-accent: #1f53ff;
    --yai-shadow: #1a408099;
    --yai-shadow-accent: #1a408099;
}

[data-color-scheme="light"] {
    --yai-primary-dark: #0a0a56;
    --yai-secondary: #383896;
    --yai-accent: #e3260d;
    --yai-text: #302c41;
    --yai-text-muted: #6b6969;
    --yai-bg: #ffffff;
    --yai-bg-surface: #f8f8f8;
    --yai-bg-surface-alt: #f5f5f5;
    --yai-bg-overlay: #efefefd7;
    --yai-shadow: #32323266;
    --yai-shadow-accent: #801a2199;
    --yai-tabs-nav-bg: var(--yai-bg);
    --yai-tabs-content-bg: var(--yai-bg-overlay);
    --yai-tabs-active-bg: var(--yai-bg);
    --yai-loader-color: var(--yai-secondary);
}

[data-color-scheme="dark"] {
    --yai-primary-dark: #eeeeee;
    --yai-secondary: #d6d6ff;
    --yai-accent: #ff4746;
    --yai-text: #ffffff;
    --yai-text-muted: #cec6c6;
    --yai-bg: #252525;
    --yai-bg-surface: #2d2d2d;
    --yai-bg-surface-alt: #3d3d3d;
    --yai-bg-overlay: #353535;
    --yai-shadow: #99999971;
    --yai-shadow-accent: #71626299;
    --yai-tabs-nav-bg: var(--yai-bg);
    --yai-tabs-content-bg: var(--yai-bg-overlay);
    --yai-tabs-active-bg: var(--yai-bg);
    --yai-loader-color: var(--yai-secondary);
}

[data-color-scheme="dark"] [data-color-scheme="blue"] {
    --yai-accent: #14a2eb;
    --yai-shadow: #14a2eb99;
    --yai-shadow-accent: #14a2eb99;
}

/**
 * Misc
 */

@media (max-width: 740px) {
    :root {
        --yai-content-padding: 12px;
        --yai-content-line-height: 1.7;
        --yai-shadow-top: 0 0 6px 2px;
        --yai-shadow-bottom: 0 0 6px 2px;
        --yai-shadow-left: 0 0 6px 2px;
        --yai-shadow-right: 0 0 6px 2px;
    }
    [data-yai-tabs] {
        display: flex;
        flex-direction: column;
    }
    [data-yai-tabs][data-nav="top"] nav[data-controller],
    [data-yai-tabs][data-nav="bottom"] nav[data-controller],
    [data-yai-tabs][data-nav="left"] nav[data-controller],
    [data-yai-tabs][data-nav="right"] nav[data-controller],
    [data-yai-tabs] [data-content] nav[data-controller] {
        flex: 1 100%;
        flex-direction: column;
    }
}

@media (prefers-reduced-motion: reduce) {
    [data-yai-tabs] [data-tab],
    [data-yai-tabs] [data-tab].active,
    [data-yai-tabs]:not(.tab-active) [data-content]::before,
    .yai-loading::after {
        transition: none;
        animation: none;
    }
}
